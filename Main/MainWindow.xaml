<Window x:Class="Main.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Main"
        mc:Ignorable="d"
        
        WindowStartupLocation="CenterScreen" 
        MinWidth="800 px" MinHeight="450 px"
        MaxWidth="1980px" MaxHeight="1120px" 
        Width="auto" Height="auto"
        
        Title="Тренажёр СИ" d:DesignWidth="1920" d:DesignHeight="1080">
    <Grid>
        <!--===== СЕТКА ДЛЯ ОПРЕДЕЛЕНИЯ ВЫСОТЫ ЭЛЕМЕНТОВ БОКОВОЙ ПАНЕЛИ ПРИ ЕЁ ОТКРЫТИИ =====-->
        <Grid Margin="0 50 0 0">
            <Grid.RowDefinitions>
                <RowDefinition x:Name="RowToResizeChooseDiffBtn"/>
                <!-- Строка для установления высоты кнопки "Выбор сложности" при анимации -->

                <RowDefinition x:Name="RowToResizeLastRoundStatsGrid"/>
                <!-- Строка для установления высоты сетки со статистикой пред. раунда при анимации -->

                <RowDefinition x:Name="RowToResizeShowLastRoundStatsBtn"/>
                <!-- Строка для установления высоты кнопки "Показать статистику" при анимации -->
            </Grid.RowDefinitions>
        </Grid>
        <!-- КОНЕЦ СЕТКИ ДЛЯ ОПРЕДЕЛЕНИЯ ВЫСОТЫ ЭЛЕМЕНТОВ БОКОВОЙ ПАНЕЛИ ПРИ ЕЁ ОТКРЫТИИ -->

        <!--=============== СЕТКА С СЕТКОЙ ДЛЯ БОКОВОЙ ПАНЕЛИ ===============-->
        <Grid Margin="0 50 0 0" Panel.ZIndex="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="0.1875*"/>

                <ColumnDefinition Width="0.8125*"/>
                <!-- Колонка для сетки с панелью -->
            </Grid.ColumnDefinitions>

            <!--=========== СЕТКА С БОКОВОЙ ПАНЕЛЬЮ ===========-->
            <Grid x:Name="SidebarGrid" 
                  Background="DarkCyan"
                  Margin="0 0 0 1100" Grid.Column="0">
                <Grid.RowDefinitions>
                    <RowDefinition x:Name="RowForChooseDiffBtn"/>
                    <!-- Строка для кнопки "Выбор сложности" -->

                    <RowDefinition x:Name="RowForLastRoundStatsGrid"/>
                    <!-- Строка для сетки со статистикой пред. раунда -->

                    <RowDefinition x:Name="RowForShowLastRoundStatsBtn"/>
                    <!-- Строка для кнопки "Показать статистику" -->
                </Grid.RowDefinitions>

                <!-- Кнопка "Выбор сложности" -->
                <Viewbox Grid.Row="0">
                    <Button Click="ChooseDifficulty" 
                            Content="Выбор сложности" Padding="3"
                            Margin="0 0 0 0" Grid.Row="0"/>
                </Viewbox>

                <!-- Сетка для статистики предыдущего раунда -->
                <Grid x:Name="LastRoundStatsGrid" 
                      Opacity="0"
                      Grid.Row="1">
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <!-- Строка для label "В предыдущем раунде:" -->

                        <RowDefinition/>
                        <!-- Строка для label с кол-вом правильных заданий 
                             и label с кол-вом ошибок -->

                        <RowDefinition/>
                        <!-- Строка для кнопки "Показать статистику" -->
                    </Grid.RowDefinitions>

                    <!-- Label "В предыдущем раунде:" -->
                    <Viewbox Grid.Row="0">
                        <Label Content="В предыдущем раунде:"
                               Background="MediumAquamarine"
                               Margin="2 0 2 0">
                            <Label.Resources>
                                <Style TargetType="Border">
                                    <Setter Property="CornerRadius" Value="5"/>
                                </Style>
                            </Label.Resources>
                        </Label>
                    </Viewbox>

                    <!-- Label "Задний: <кол-во правильных заданий>" -->
                    <Viewbox Margin="0 0 0 5" Grid.Row="1">
                        <Label x:Name="LastRoundCorrectNumLabel"  
                               Content="Заданий: null"
                               Background="MediumAquamarine" BorderBrush="MediumAquamarine">
                            <Label.Resources>
                                <Style TargetType="Border">
                                    <Setter Property="CornerRadius" Value="5"/>
                                </Style>
                            </Label.Resources>
                        </Label>
                    </Viewbox>

                    <!-- Label "Ошибок: <кол-во ошибок>" -->
                    <Viewbox Margin="0 5 0 0" Grid.Row="2">
                        <Label x:Name="LastRoundWrongNumLabel"
                               Content="Ошибок: null"
                               Background="MediumAquamarine">
                            <Label.Resources>
                                <Style TargetType="Border">
                                    <Setter Property="CornerRadius" Value="5"/>
                                </Style>
                            </Label.Resources>
                        </Label>
                    </Viewbox>
                </Grid>

                <!-- Кнопка "Показать статистику" -->
                <Viewbox Grid.Row="2">
                    <Button x:Name="ShowLastRoundStatsBtn" Click="ShowLastRoundStats"
                            Content="Показать статистику" Padding="2"
                            Margin="1 0 1 0">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="5"/>
                            </Style>
                        </Button.Resources>
                    </Button>
                </Viewbox>
            </Grid>
        </Grid>
        <!-- КОНЕЦ СЕТКИ С СЕТКОЙ ДЛЯ БОКОВОЙ ПАНЕЛИ -->

        <!--=========== СЕТКА ДЛЯ СЕТКИ С ЛЕВОЙ КОЛОНКИ, СЕТКИ С ВЫБОРОМ СЛОЖНОСТИ, СЕТКИ С GUI ИГРЫ ============-->
        <Grid Panel.ZIndex="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="0.1875*"/>
                <!-- Колонка для сетки с левой колонкой -->

                <ColumnDefinition Width="0.8125*"/>
                <!-- Колонка для сетки с выбором сложности и сетки с gui игры -->
            </Grid.ColumnDefinitions>

            <!--====== СЕТКА С ЛЕВОЙ КОЛОНКОЙ =======-->
            <Grid Background="#D9E9FF" 
                  Grid.Column="0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="50 px"/>
                    <!-- Строка для кнопки "Открыть панель" -->

                    <RowDefinition Height="0.3*"/>
                    <!-- Строка для label "Заданий: <кол-во правильных заданий>" -->

                    <RowDefinition Height="0.3*"/>
                    <!-- Строка для label "Ошибок: <кол-во ошибок>" -->

                    <RowDefinition Height="0.95*"/>
                    <!-- Строка для сетки с кнопкой помощи, её дизайна и textblocks с текстами о tooltip'ах -->
                </Grid.RowDefinitions>

                <!-- Кнопка "Открыть панель" -->
                <Button x:Name="OpenCloseSidebarBtn" Click="OpenCloseSidebar" 
                        Content="Открыть панель" 
                        MinHeight="50"
                        Grid.Row="0"
                        HorizontalAlignment="Stretch" VerticalAlignment="Top"/>

                <!-- Label "Заданий: <кол-во правильных заданий>" -->
                <Viewbox x:Name="ThisRoundCorrectViewbox" 
                         Visibility="Hidden" Stretch="Uniform" 
                         Grid.Row="1">
                    <Label x:Name="ThisRoundCorrectNumLabel" 
                           Content="Заданий: null" FontSize="8"
                           HorizontalContentAlignment="Center" VerticalContentAlignment="Center"/>
                </Viewbox>

                <!-- Label "Ошибок: <кол-во ошибок>" -->
                <Viewbox x:Name="ThisRoundWrongViewbox" 
                         Visibility="Hidden" Stretch="Uniform" 
                         Grid.Row="2">
                    <Label x:Name="ThisRoundWrongNumLabel" 
                           Content="Ошибок: null" FontSize="10"
                           HorizontalContentAlignment="Center" VerticalContentAlignment="Center"/>
                </Viewbox>

                <!--==== Сетка с кнопкой помощи и textblocks с текстами о tooltip'ах ====-->
                <Grid Grid.Row="3">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="0.6*"/>
                        <!-- Строка для textblock с текстом о tooltip'ах -->

                        <RowDefinition Height="45 px"/>
                        <!-- Строка для кнопки помощи -->
                    </Grid.RowDefinitions>

                    <!-- Textblock с текстом о tooltip'ах: ПРО ВЫБОР СЛОЖНОСТИ -->
                    <Viewbox Grid.Row="0">
                        <TextBlock x:Name="TooltipsHintForChooseDiffGridTextbox" 
                            FontSize="20" FontFamily="TimesNewRoman"
                            Padding="10"
                            TextWrapping="WrapWithOverflow">
                            При наведении курсора
                                <LineBreak/>
                                <Run FontWeight="Bold">
                            на уровни сложности
                                </Run> 
                                <LineBreak/>
                            будет показано их описание
                        </TextBlock>
                    </Viewbox>

                    <!-- Textblock с текстом о tooltip'ах: ПРО ЧИСЛА В ИГРЕ -->
                    <Viewbox Grid.Column="0" Grid.Row="0">
                        <TextBlock x:Name="TooltipsHintForPlayingGridTextbox" Visibility="Hidden"
                            FontSize="20" FontFamily="TimesNewRoman"
                            Padding="10"
                            TextWrapping="WrapWithOverflow">
                            При наведении курсора
                                <LineBreak/>
                                <Run FontWeight="Bold">
                            на числа
                                </Run> 
                                <LineBreak/>
                            будет показано их описание
                        </TextBlock>
                    </Viewbox>

                    <!-- Кнопка помощи -->
                    <Button Click="OpenCloseHelpWindow"
                            Content="Открыть помощь" Padding="40 0 4 0"
                            Panel.ZIndex="0" Grid.Row="1"
                            HorizontalContentAlignment="Right"/>

                    <!--==== Дизайн кнопки помощи ====-->
                    <Rectangle Fill="#48A0DC"
                               Width="22.5" Height="45" 
                               Grid.Row="1" 
                               HorizontalAlignment="Left"/>

                    <Image Source="Images/info.ico" 
                           Width="45" Height="45"
                           Grid.Row="1"
                           HorizontalAlignment="Left"/>
                </Grid>
            </Grid>
            <!-- КОНЕЦ СЕТКИ С ЛЕВОЙ КОЛОНКОЙ -->

            <!--====== СЕТКА С ВЫБОРОМ СЛОЖНОСТИ ======-->
            <Grid x:Name="ChooseDiffGrid" 
                  Visibility="Visible"
                  Margin="50 50 50 50" Grid.Column="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="0.2*"/>
                    <!-- Строка для label "Выберите уровень сложности:" -->

                    <RowDefinition Height="0.15*"/>
                    <!-- Строка для сетки со stackpanel с radiobuttons уровнями сложности-->

                    <RowDefinition Height="0.2*"/>
                    <!-- Строка для кнопки "Начать" -->
                </Grid.RowDefinitions>

                <!-- Label "Выберите уровень сложности:" -->
                <Viewbox Stretch="Uniform" Grid.Row="0">
                    <Label Content="Выберите уровень сложности:"
                           Padding="25" FontSize="12" FontFamily="TimesNewRoman"
                           HorizontalContentAlignment="Center" VerticalContentAlignment="Top"/>
                </Viewbox>

                <!--==== Сетка со stackpanel с radiobuttons уровнями сложности ====-->
                <Grid Margin="0 0 10 0" Grid.Row="1">
                    <Viewbox>
                        <StackPanel>
                            <!-- Radiobutton "Низкий" -->
                            <Viewbox Stretch="Uniform" MaxHeight="85">
                                <RadioButton x:Name="EasyDiffRadiobtn" GroupName="Difficulty"
                                     Content="Низкий" Cursor="Hand"
                                     Grid.Row="0">
                                    <RadioButton.ToolTip>
                                        <ToolTip Placement="Left">
                                            <StackPanel>
                                                <TextBlock Text="Числа от 2 до 256"/>
                                                <TextBlock Text="Системы счисления: 2, 10, 16"/>
                                            </StackPanel>
                                        </ToolTip>
                                    </RadioButton.ToolTip>
                                </RadioButton>
                            </Viewbox>

                            <!-- Radiobutton "Cредний" -->
                            <Viewbox Margin="15 0 0 0" MaxHeight="85" Stretch="Uniform">
                                <RadioButton x:Name="MediocreDiffRadiobtn" GroupName="Difficulty"
                                     Content="Средний" Cursor="Hand"
                                     Grid.Row="1" >
                                    <RadioButton.ToolTip>
                                        <ToolTip Placement="Left">
                                            <StackPanel>
                                                <TextBlock Text="Числа от 256 до 1024"/>
                                                <TextBlock Text="Системы счисления: 8, 2, 10, 16"/>
                                            </StackPanel>
                                        </ToolTip>
                                    </RadioButton.ToolTip>
                                </RadioButton>
                            </Viewbox>

                            <!-- Radiobutton "Высокий" -->
                            <Viewbox Margin="15.5 0 0 0" MaxHeight="85" Stretch="Uniform" Grid.Row="2">
                                <RadioButton x:Name="HardDiffRadiobtn" GroupName="Difficulty"
                                     Content="Высокий" Cursor="Hand"                             
                                     Visibility="Hidden"                                                                        
                                     Grid.Row="2">
                                    <RadioButton.ToolTip>
                                        <ToolTip Placement="Left">
                                            <StackPanel>
                                                <TextBlock Text="Числа от 1024 до 100 000"/>
                                                <TextBlock Text="Системы счисления от 2 до 62"/>
                                            </StackPanel>
                                        </ToolTip>
                                    </RadioButton.ToolTip>
                                </RadioButton>
                            </Viewbox>
                        </StackPanel>
                    </Viewbox>
                </Grid>

                <!-- Кнопка "Начать" -->
                <Button Click="StartPlaying"                         
                        Content="Начать" FontSize="30"
                        MaxWidth="190" MaxHeight="70"                        
                        Grid.Row="2">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="10"/>
                        </Style>
                    </Button.Resources>
                </Button>
            </Grid>
            <!-- КОНЕЦ СЕТКИ С ВЫБОРОМ СЛОЖНОСТИ -->

            <!--===== СЕТКА С GUI ИГРЫ =====-->
            <Grid x:Name="PlayingGrid" Visibility="Hidden" Grid.Column="1">
                <Grid.RowDefinitions>
                    <RowDefinition/>
                    <!-- Строка для label "Задание №<номер текущего задания>" -->

                    <RowDefinition/>
                    <!-- Строка для labels: исходное число, его СИ, "В", СИ конечного числа -->

                    <RowDefinition/>
                    <!-- Строка для textbox для ввода ответа -->
                </Grid.RowDefinitions>

                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <!-- Колонка для labels: исходное число, его СИ -->

                    <ColumnDefinition/>
                    <!-- Колонка для label "В" -->

                    <ColumnDefinition/>
                    <!-- Колонка для label СИ конечного числа -->
                </Grid.ColumnDefinitions>

                <!-- Label "Задание№<номер текущего задания>" -->
                <Viewbox Grid.Row="0" Grid.ColumnSpan="3"
                         Margin="90 20 90 20"
                         MaxWidth="700">
                    <Label x:Name="CurrentTaskNumLabel"
                           Content="Задание №null" Padding="3"/>
                </Viewbox>

                <!-- Label "Исходное число" -->
                <Viewbox Grid.Row="1" Grid.Column="0"
                         MaxWidth="200"
                         Margin="0 25 0 25">
                    <Label x:Name="FromNumLabel" 
                           Content="null" Padding="0 1 0 1" 
                           Cursor="Hand">
                        <Label.ToolTip>
                            <ToolTip Placement="Left">
                                <TextBlock Text="Исходное число"/>
                            </ToolTip>
                        </Label.ToolTip>
                    </Label>
                </Viewbox>

                <!-- Label СИ исходного числа -->
                <Viewbox Grid.Row="1" Grid.Column="0" 
                         MaxHeight="100" MaxWidth="75"
                         HorizontalAlignment="Right" VerticalAlignment="Bottom"
                         Margin="0 75 0 0">
                    <Label x:Name="FromNumBaseLabel" 
                           Content="null" Padding="2.5" 
                           Cursor="Hand">
                        <Label.ToolTip>
                            <ToolTip Placement="Left">
                                <TextBlock Text="Система счисления исходного числа"/>
                            </ToolTip>
                        </Label.ToolTip>
                    </Label>
                </Viewbox>

                <!-- Label "В" -->
                <Viewbox Grid.Row="1" Grid.Column="1"
                         MaxWidth="75"
                         Margin="0 25 0 25">
                    <Label Content="В" Padding="0 1 0 1"/>
                </Viewbox>

                <!-- Label СИ конечного числа -->
                <Viewbox Grid.Row="1" Grid.Column="2"
                         MaxWidth="375"
                         Margin="0 25 0 25">
                    <Label x:Name="ToNumBaseLabel" 
                           Content="null СИ" Padding="0 1 0 1" 
                           Cursor="Hand">
                        <Label.ToolTip>
                            <ToolTip Placement="Left">
                                <TextBlock Text="Система счисления, в которую нужно перевести исходное число"/>
                            </ToolTip>
                        </Label.ToolTip>
                    </Label>
                </Viewbox>

                <!-- Textbox для ввода ответа -->
                <Viewbox Grid.Row="2" Grid.ColumnSpan="3"
                         MaxWidth="900"
                         Margin="80 0 80 0">
                    <TextBox x:Name="AnswerTextbox" KeyDown="SubmitAnswer"
                             BorderThickness="0"
                             MaxLength="17"
                             Focusable="True"/>
                </Viewbox>
            </Grid>
            <!--КОНЕЦ СЕТКИ С GUI ИГРЫ-->
        </Grid>
        <!-- КОНЕЦ СЕТКОЙ ДЛЯ СЕТКИ С ЛЕВОЙ КОЛОНКИ, СЕТКИ С ВЫБОРОМ СЛОЖНОСТИ, СЕТКИ С GUI ИГРЫ -->
    </Grid>
    <!-- КОНЕЦ ПРИЛОЖЕНИЯ -->
</Window>